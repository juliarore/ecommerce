<div class="article-form">
  <h2 class="article-form__title">Crear nuevo artículo</h2>

  <form [formGroup]="articleForm" (ngSubmit)="onSubmit()" class="article-form__form">

    <!-- Nombre del artículo -->
    <div class="article-form__field">
      <label for="name" class="article-form__label">Nombre del artículo</label>
      <input
        type="text"
        id="name"
        formControlName="name"
        placeholder="Introduce el nombre"
        class="article-form__input">

      @if (name?.invalid && (name?.touched || formSubmitted)) {
        @if (name?.errors?.['required']) {
          <span class="article-form__error">El nombre del artículo es obligatorio</span>
        } @else if (name?.errors?.['forbiddenName']) {
          <span class="article-form__error">El nombre del artículo no es válido</span>
        }
      }
    </div>

    <!-- Precio del artículo -->
    <div class="article-form__field">
      <label for="price" class="article-form__label">Precio del artículo</label>
      <input
        type="number"
        id="price"
        formControlName="price"
        placeholder="Introduce el precio (mín. 0,1 €)"
        min="0.1"
        step="0.1"
        class="article-form__input">

      @if (price?.invalid && (price?.touched || formSubmitted)) {
        @if (price?.errors?.['required']) {
          <span class="article-form__error">El precio es obligatorio</span>
        } @else if (price?.errors?.['min']) {
          <span class="article-form__error">El precio debe ser mínimo 0,1 €</span>
        }
      }
    </div>

    <!-- URL de la imagen -->
    <div class="article-form__field">
      <label for="imageUrl" class="article-form__label">URL de la imagen</label>
      <input
        type="text"
        id="imageUrl"
        formControlName="imageUrl"
        placeholder="Introduce la URL"
        class="article-form__input">

      @if (imageUrl?.invalid && (imageUrl?.touched || formSubmitted)) {
        @if (imageUrl?.errors?.['required']) {
          <span class="article-form__error">La URL de la imagen es obligatoria</span>
        } @else if (imageUrl?.errors?.['pattern']) {
          <span class="article-form__error">La URL de la imagen no es válida</span>
        }
      }
    </div>

    <!-- Checkbox -->
    <div class="article-form__field article-form__field--checkbox">
      <label for="isOnSale" class="article-form__checkbox-label">
        <input
          type="checkbox"
          id="isOnSale"
          formControlName="isOnSale"
          class="article-form__checkbox"> En venta
      </label>
    </div>

    <button type="submit" class="article-form__button">Crear artículo</button>
  </form>
</div>
